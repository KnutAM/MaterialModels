(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     10132,        240]
NotebookOptionsPosition[      9620,        219]
NotebookOutlinePosition[      9966,        234]
CellTagsIndexPosition[      9923,        231]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"(*", "Parameters", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"name", " ", "=", " ", "\"\<dRdF\>\""}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"nback", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"signconv", "=", "1"}], ";"}], 
   RowBox[{"(*", 
    RowBox[{
    "Sign", " ", "convention", " ", "in", " ", "formulation", " ", "for", " ",
      "dissipative", " ", "stresses"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"FreeEnergy", "=", "3"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"EvolutionLaw", "=", "1"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"eps", "=", 
     RowBox[{"10", "^", 
      RowBox[{"(", 
       RowBox[{"-", "12"}], ")"}]}]}], ";", " ", 
    RowBox[{"(*", 
     RowBox[{
     "Small", " ", "number", " ", "for", " ", "numerical", " ", "checks"}], 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{"nvar", "=", 
     RowBox[{"10", "+", 
      RowBox[{"9", "*", "nback"}]}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"nmp", "=", 
     RowBox[{"6", "+", 
      RowBox[{"3", "*", "nback"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"subroutinename", "=", 
     RowBox[{"StringJoin", "[", 
      RowBox[{"name", ",", " ", 
       RowBox[{"ToString", "[", "nback", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"filename", "=", 
     RowBox[{"StringJoin", "[", 
      RowBox[{"name", ",", 
       RowBox[{"ToString", "[", "nback", "]"}], ",", "\"\<_FE\>\"", ",", " ", 
       RowBox[{"ToString", "[", "FreeEnergy", "]"}], ",", " ", "\"\<_EV\>\"", 
       ",", " ", 
       RowBox[{"ToString", "[", "EvolutionLaw", "]"}], ",", " ", 
       "\"\<_SC\>\"", ",", " ", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"signconv", "\[Equal]", 
          RowBox[{"-", "1"}]}], ",", "\"\<1\>\"", ",", "\"\<2\>\""}], "]"}]}],
       " ", "]"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.698470925931296*^9, 3.6984709685752954`*^9}, {
   3.698480874004818*^9, 3.6984808833087463`*^9}, {3.698848224350357*^9, 
   3.6988482534232645`*^9}, 3.6988483485247736`*^9, 3.6988484681287327`*^9, 
   3.6988485038503046`*^9, {3.698848648009719*^9, 3.698848664960414*^9}, {
   3.6989112541889434`*^9, 3.6989112553599324`*^9}, 3.698911485950246*^9, {
   3.6989223042585063`*^9, 3.698922321559058*^9}, 3.6989223535992446`*^9, 
   3.6989223948922186`*^9, 3.698922458509593*^9, 3.698922526828841*^9, 
   3.6989225867443027`*^9, {3.700198033598365*^9, 3.7001980392492294`*^9}, 
   3.7001981256235237`*^9}],

Cell["\<\
AppendTo[$Path,\"D:\\\\BoxSync\\\\knutan\\\\PhD\\\\CODING\\\\Mathematica_\
libraries\"];
<<AceGen`;
SMSInitialize[filename, \"Language\"->\"Fortran90\"];
SMSModule[subroutinename, Real[x$$[nvar],props$$[nmp], statev$$[nvar], \
Fnew$$[9], dRdF$$[nvar,9]], \"Output\"->{dRdF$$}, \"Input\"->{x$$, props$$, \
statev$$, Fnew$$}];\
\>", "Input",
 CellChangeTimes->{{3.67153343042889*^9, 3.6715335413836946`*^9}, 
   3.671533597000569*^9, {3.6767800772276716`*^9, 3.676780078274567*^9}, {
   3.676780122300164*^9, 3.6767801246119328`*^9}, {3.6767802151692533`*^9, 
   3.676780215600253*^9}, {3.676780263182253*^9, 3.6767802783412533`*^9}, {
   3.676780416789253*^9, 3.676780463467253*^9}, {3.676780505616253*^9, 
   3.6767805179272532`*^9}, 3.676780556423253*^9, {3.6767806461042533`*^9, 
   3.6767806519922533`*^9}, {3.6767870458530617`*^9, 3.676787061082015*^9}, {
   3.6950286377459497`*^9, 3.6950287630090733`*^9}, {3.6950363317197084`*^9, 
   3.6950364122417593`*^9}, {3.69503760565069*^9, 3.6950376125616903`*^9}, {
   3.695098239473159*^9, 3.6950982452651587`*^9}, 3.6950983199821587`*^9, {
   3.6984675040140576`*^9, 3.6984675460430574`*^9}, {3.698467588676058*^9, 
   3.6984676342360573`*^9}, {3.6984677661300573`*^9, 
   3.6984678130810575`*^9}, {3.6984678489230576`*^9, 
   3.6984678681260576`*^9}, {3.698470875451296*^9, 3.6984709249102955`*^9}, {
   3.698473703373784*^9, 3.698473710316728*^9}, {3.698473743407462*^9, 
   3.698473750876401*^9}, {3.6984751625286427`*^9, 3.6984751634786353`*^9}, {
   3.698475526563611*^9, 3.6984755536649675`*^9}, {3.698475694548997*^9, 
   3.698475695950986*^9}, {3.6984757741783886`*^9, 3.69847577966035*^9}, {
   3.6984808895457*^9, 3.698480894194666*^9}, {3.6988482656544876`*^9, 
   3.698848268518774*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"<<", "ResidualSetup"}], ";"}]], "Input",
 CellChangeTimes->{{3.6984753534875517`*^9, 3.698475360389392*^9}, {
  3.69847556160478*^9, 3.698475563328738*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"dRdF", "\[DoubleRightTee]", 
   RowBox[{"SMSD", "[", 
    RowBox[{"R", ",", "F9"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6984755646347113`*^9, 3.6984755946000156`*^9}, {
   3.6984757051969175`*^9, 3.6984757074479017`*^9}, 3.6984757572375126`*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Export", " ", "variables"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"SMSExport", "[", 
     RowBox[{"dRdF", ",", "dRdF$$"}], "]"}], ";"}], "\n", 
   RowBox[{"SMSWrite", "[", "]"}]}]}]], "Input",
 CellChangeTimes->{{3.671533509002172*^9, 3.671533509003172*^9}, {
   3.671533599481073*^9, 3.6715336298309526`*^9}, 3.671533707545953*^9, {
   3.6767806253542533`*^9, 3.676780634673253*^9}, {3.6767870367448835`*^9, 
   3.6767870379116507`*^9}, 3.676787307226776*^9, {3.695031346434132*^9, 
   3.6950313848391323`*^9}, {3.6950374297838454`*^9, 
   3.6950374350213213`*^9}, {3.6984757637334633`*^9, 3.698475767060438*^9}}],

Cell[BoxData[
 TagBox[GridBox[{
    {
     StyleBox["\<\"File:\"\>",
      StripOnInput->False,
      LineColor->RGBColor[0, 0, 1],
      FrontFaceColor->RGBColor[0, 0, 1],
      BackFaceColor->RGBColor[0, 0, 1],
      GraphicsColor->RGBColor[0, 0, 1],
      FontWeight->Bold,
      FontColor->RGBColor[0, 0, 1]], "\<\"dRdF1_FE3_EV1_SC2.f90\"\>", 
     StyleBox["\<\"Size:\"\>",
      StripOnInput->False,
      LineColor->RGBColor[0, 0, 1],
      FrontFaceColor->RGBColor[0, 0, 1],
      BackFaceColor->RGBColor[0, 0, 1],
      GraphicsColor->RGBColor[0, 0, 1],
      FontWeight->Bold,
      FontColor->RGBColor[0, 0, 1]], "20630"},
    {"\<\"Methods\"\>", "\<\"No.Formulae\"\>", "\<\"No.Leafs\"\>", 
     "\[SpanFromLeft]"},
    {
     StyleBox["\<\"dRdF1\"\>",
      StripOnInput->False,
      LineColor->RGBColor[0, 0, 1],
      FrontFaceColor->RGBColor[0, 0, 1],
      BackFaceColor->RGBColor[0, 0, 1],
      GraphicsColor->RGBColor[0, 0, 1],
      FontWeight->Bold,
      FontColor->RGBColor[0, 0, 1]], "418", "7656", "\[SpanFromLeft]"}
   },
   AutoDelete->False,
   GridBoxDividers->{"Rows" -> {1, 2}},
   GridBoxFrame->{"ColumnsIndexed" -> {{{1, -1}, {1, -1}} -> True}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Grid"]], "Print",
 CellChangeTimes->{
  3.671533730246953*^9, 3.6767805766152534`*^9, 3.676780673418253*^9, 
   3.6767870864479413`*^9, 3.6767873301271954`*^9, {3.695031849035132*^9, 
   3.6950318666891317`*^9}, 3.6950375054242806`*^9, 3.695041341709755*^9, 
   3.6950451656994753`*^9, 3.6950983813841586`*^9, 3.6950985299611588`*^9, 
   3.6950991728960595`*^9, 3.695104448129373*^9, 3.695111784617586*^9, 
   3.695229140437175*^9, 3.698467178311861*^9, 3.6984749090295906`*^9, {
   3.698474969091176*^9, 3.698474982062071*^9}, 3.698475105708093*^9, 
   3.698475367888221*^9, 3.6984756474683533`*^9, 3.6984758436378636`*^9, 
   3.6984809244084387`*^9, 3.698511123518212*^9, 3.698512987942444*^9, 
   3.698571738747511*^9, 3.6985902536418543`*^9, 3.698848334220343*^9, 
   3.6988483688758087`*^9, {3.698848495822502*^9, 3.6988485214970694`*^9}, 
   3.6988486905779753`*^9, 3.698911349536246*^9, 3.69892235067432*^9, 
   3.698922390226335*^9, 3.6989224399200654`*^9, 3.6989225224109573`*^9, 
   3.6989225766315775`*^9, 3.6989226210805717`*^9, 3.700198071632967*^9, 
   3.7001981658584313`*^9}],

Cell[BoxData["21.341`"], "Output",
 CellChangeTimes->{
  3.6715337302599525`*^9, 3.6767805766372533`*^9, 3.676780673461253*^9, 
   3.6767870864589386`*^9, 3.676787330140193*^9, {3.695031849055132*^9, 
   3.6950318667141323`*^9}, 3.695037505443279*^9, 3.6950413417227573`*^9, 
   3.695045165732462*^9, 3.6950983814051585`*^9, 3.695098529980159*^9, 
   3.6950991729110613`*^9, 3.6951044481483746`*^9, 3.695111784643589*^9, 
   3.6952291404531765`*^9, 3.6984671783318615`*^9, 3.6984749107335777`*^9, {
   3.698474969101176*^9, 3.698474982072071*^9}, 3.698475105728093*^9, 
   3.6984753678982205`*^9, 3.6984756474783535`*^9, 3.698475843657863*^9, 
   3.698480924439439*^9, 3.698511123538213*^9, 3.6985129879624434`*^9, 
   3.698571738777511*^9, 3.6985902536608562`*^9, 3.6988483342483463`*^9, 
   3.6988483689138126`*^9, {3.698848495841504*^9, 3.698848521527072*^9}, 
   3.6988486906059785`*^9, 3.698911349547246*^9, 3.6989223506943197`*^9, 
   3.698922390246334*^9, 3.6989224399310656`*^9, 3.6989225224209566`*^9, 
   3.698922576641577*^9, 3.6989226210905714`*^9, 3.7001980716749673`*^9, 
   3.7001981658774314`*^9}]
}, Open  ]]
},
WindowSize->{1006, 1082},
WindowMargins->{{340, Automatic}, {Automatic, 12}},
FrontEndVersion->"10.1 for Microsoft Windows (64-bit) (March 23, 2015)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 2603, 63, 252, "Input"],
Cell[3164, 85, 1760, 28, 82, "Input"],
Cell[4927, 115, 191, 4, 31, "Input"],
Cell[5121, 121, 292, 6, 31, "Input"],
Cell[CellGroupData[{
Cell[5438, 131, 697, 14, 72, "Input"],
Cell[6138, 147, 2350, 51, 54, "Print"],
Cell[8491, 200, 1113, 16, 64, "Output"]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
